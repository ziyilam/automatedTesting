package config;

import java.util.concurrent.TimeUnit;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;

import executionEngine.DriverScript;
import utility.Log;

//import utility.Log;

public class ActionKeywords {
	public static WebDriver driver;

	public void openBrowser(String sObjectLocator, String sActionKeyword, String sTestData) {
		try {
			switch (sTestData) {
			case "chrome":
				System.setProperty(Constants.Chrome_Property1, Constants.Chrome_Property2);
				driver = new ChromeDriver();
				break;

			default:
				break;
			}
			//System.setProperty(Constants.Chrome_Property1, Constants.Chrome_Property2);
			Log.info("Opening the browser");
			//driver = new ChromeDriver();
			driver.manage().deleteAllCookies();
			driver.manage().window().maximize();
			driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);
			driver.manage().timeouts().pageLoadTimeout(60, TimeUnit.SECONDS);
			// String baseUrl = sUrl;
			driver.get(sObjectLocator);
		} catch (Exception e) {
			Log.error("TestStepID: " + DriverScript.sTestStepID + " ActionKeywords|openBrowser. Exception Message - "
					+ e.getMessage());
			DriverScript.bResult = false;
		}
	}

	public void tryClick(String sObjectLocator, String sActionKeyword, String sTestData) {
		try {
			Log.info("Clicking on ObjectLocator " + sObjectLocator);
			driver.findElement(By.cssSelector(sObjectLocator)).click();
		} catch (Exception e) {
			Log.error("TestStepID: " + DriverScript.sTestStepID + " ActionKeywords|tryClick. Exception Message - "
					+ e.getMessage());
			DriverScript.bResult = false;
		}

	}

	public void tryInput(String sObjectLocator, String sActionKeyword, String sTestData) {
		try {
			Log.info("Input the text into ObjectLocator " + sObjectLocator);
			driver.findElement(By.cssSelector(sObjectLocator)).sendKeys(sTestData);
		} catch (Exception e) {
			Log.error("TestStepID: " + DriverScript.sTestStepID + " ActionKeywords|tryInput. Exception Message - "
					+ e.getMessage());
			DriverScript.bResult = false;
		}
	}

	public void tryClose(String sObjectLocator, String sActionKeyword, String sTestData) {
		try {
			Log.info("Closing the browser");
			driver.close();
		} catch (Exception e) {
			Log.error("TestStepID: " + DriverScript.sTestStepID + " ActionKeywords|tryClose. Exception Message - "
					+ e.getMessage());
			DriverScript.bResult = false;
		}
		// System.exit(0);
	}

}
